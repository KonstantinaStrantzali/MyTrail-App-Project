{% extends "base.html" %}
{% block content %}


<section class="add_trail_area">
    <div class="container-fluid">
   
    <div class="row">
        <div class="col">
            <h2 class="text-center">Edit Trail</h2>
        </div>
    </div>
    <div class="row">
        <form class="card col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 requires-validation" novalidate method="POST" action="{{ url_for('edit_trail', trail_id = trail._id) }}">
            <div class="card-body">
                <div class="row g-2">
                    <!-- title -->
                    <div class="col-md-1">
                        <i class="fas fa-align-left col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <input type="text" name="title" class="form-control is-valid" value = "{{ trail.title }}" id="title" placeholder="Title" 
                            onchange="checkInput()"required>   
                            <label for="title">Title</label>
                        </div>
                    </div>
                    <!-- location -->
                    <div class="col-md-1 align-self-center">
                        <i class="fas fa-hashtag col-md"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <input type="text" name="location" class="form-control" id="location"
                                placeholder="Location" minlength="1" value = "{{ trail.location }}" required>
                            <label for="location">Location</label>
                        </div>
                    </div>
                    <div class="col-md-1 align-self-center">
                        <i class="fas fa-award col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <select class="form-select form-select-m mb-3" id="type_name" name="type_name" class="validate" required>
                                <option selected disabled value="">Select type</option>
                            {% for type in types %}

                                {% if type.type_name == trail.type %}
                                    <option value="{{ type.type_name  }}" selected >{{ type.type_name  }}</option>
                                {% else %}
                                    <option value="{{ type.type_name  }}">{{ type.type_name  }}</option>
                                {% endif %}
                            {% endfor %}
                              </select>
                            <label for="type_name"></label>
                        </div>
                    </div>
                    <!-- difficulty -->
                    <div class="col-md-1 align-self-center">
                        <i class="fas fa-award col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <select class="form-select form-select-m mb-3" id="difficulty" name="difficulty" class="validate" required aria-label=".form-select-lg example">
                                <option selected disabled value="">Select difficulty</option>
                                {% for level in difficulty %}
                                    {% if level.difficulty_level == trail.difficulty_level %}
                                    <option value="{{ level.difficulty_level }}" selected>{{ level.difficulty_level }}</option>
                                    {% else %}
                                    <option value="{{ level.difficulty_level }}" selected>{{ level.difficulty_level }}</option>
                                    {% endif %}
                                {% endfor %}
                              </select>
                            <label for="difficulty"></label>
                        </div>
                    </div>
                    <!-- Miles -->
                    <div class="col-md-1 align-self-center">
                        <i class="fas  col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <input type="text" name="miles" class="form-control col-md-8" id="miles"
                                minlength="1" maxlength="7" placeholder="Miles" pattern="^\d*\.?\d+$" value= "{{ trail.miles }}" required>
                            <label for="miles">Miles In ml</label>
                        </div>
                    </div>
                    <!-- image url -->
                    <div class="col-md-1 align-self-center">
                        <i class="fas fa-image col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating mb-3">
                            <input type="text" name="image_url" class="form-control col-md-8" id="image_url"
                                placeholder="Image" minlength="5" maxlength="150" value = "{{ trail.image_url }}"
                                pattern="https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)" required>
                            <label for="image_url">Image url</label>
                        </div>
                    </div>

                
                    <!-- Description -->
                    <div class="col-md-1 align-self-center">
                        <i class="fas fa-edit col-md fields"></i>
                    </div>
                    <div class="col-md-10 offset-md-1 col-lg-11 offset-lg-0">
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="description" id="description"
                                name="description" value ="{{ trail.description }}" required></textarea>
                            <label for="description">Description</label>
                        </div>
                    </div>
                    <!-- Add button -->
                    <div class="row d-flex justify-content-center mt-4">
                        <div class="d-grid col-md-4 mb-3">
                            <button type="submit" class="btn text-shadow btn-success comic-font">
                                Edit Trail <i class="far fa-plus-square"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
</section>


{% endblock %}